Looping prevents ended event: http://stackoverflow.com/a/8375870